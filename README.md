> Disclaimer: This is an addon that my brother wanted and started using AI to generate it. I've taken it over to manage the AI development a bit more because it was getting out of hand. This is pretty much purely all generated by AI and is a bit scuffed, but it does the very spesific job we want it to do.
------------

Guild Tools 3.3.5
===================================

A lightweight officer toolkit for Wrath 3.3.5 guild management. Link alts to mains, view groups, promote/demote entire groups with rank rules, kick groups, add bulk notes, export/import alt links, and use a compact roster UI with search and pruning helpers.

What it does
------------
- Link an alt to a main (stored internally by the addon)
- Show a main + all linked alts
- Promote/Demote an entire group with automatic alt-rank rules
- Kick an entire group (main + all linked alts)
- Bulk-add public/officer notes to a group or everyone (throttled)
- Export/Import alt links via whispers for easy sharing
- Compact roster UI: search, update, filter/prune by inactivity, export names

Requirements
------------
- WoW 3.3.5 (Interface 30300)
- Officer permissions for actions that change ranks, notes, or remove members

Installation
------------
1) Copy the entire `Guild-Tools-3.3.5` folder (the one containing `guild-tools.toc`) into `World of Warcraft\Interface\AddOns\`.
2) Launch the game and ensure "Guild Tools 3.3.5" is enabled on the character select AddOns screen.
3) In-game, type `/gt help`.

Getting started
---------------
1) Link alts to a main as you encounter them using `/gt link <alt> <main>`.
2) Configure alt-rank rules once with `/gt setrank Established <i>` and `/gt setrank Member <i>`.
3) Use `/gt promotegroup <name> <rankIndex>` to promote a main; alts follow the rule.
4) Open the UI with `/gt ui` to browse/search mains and prune by inactivity.

Slash commands
--------------
- `/gt link <alt> <main>`: Link an alt character to its main.
- `/gt unlink <name>`: Remove a link for a character.
- `/gt show <name>`: Print the group for a main or any of its alts.
- `/gt kickgroup <name>`: Kick the main and all linked alts.
- `/gt promotegroup <name> <rankIndex>`: Promote/Demote the main to the target rank; alts are set according to the rule below.
- `/gt setrank <Established|Member> <index>`: Configure the two rank indices the rule uses.
- `/gt showranks`: Show the currently configured indices.
- `/gt addnote <Officer|Public> <name|all> <note>`: Queue note additions for a group or the entire roster.
- `/gt export <character>`: Whisper-export all alt links to the named character (for import on their side).
- `/gt ui`: Open the compact roster UI (search, update, filter/prune, export names).

Alt-rank rules (behaviour)
--------------------------
Set the indices that match your guild ranks first:
```
/gt setrank Established <index>
/gt setrank Member <index>
```
When you run `/gt promotegroup <main> <rankIndex>`:
- If the main is promoted above Established (lower number), alts are set to Established.
- If the main is set to Established, alts are set to Member.
- If the main is set to Member, alts are set to Member.
- If rules are not configured, alts default to matching the main where possible.

UI module
---------
- Open with `/gt ui`.
- Search box: find by main or alt; expands and highlights the result.
- Update Roster: refreshes in-game guild data and rebuilds the view.
- Prune/Filter: show only members inactive for â‰¥ N days; persists per-session.
- Kick Filtered: after a confirmation dialog, removes all members matching the filter.
- Export Names: opens a copy window with names based on the current filter.

Export/Import alt links
-----------------------
- Export: `/gt export <character>` sends one or more whisper messages beginning with `GT_EXPORT ...`.
- Import: Clients with the addon automatically consume incoming `GT_EXPORT ...` whispers and merge links.
- The import reports how many links were new/updated and the new total.

Notes & limitations
-------------------
- You must have appropriate officer permissions to link/unlink, change ranks, add notes, or kick.
- Rank changes loop `GuildPromote`/`GuildDemote` until the desired index (3.3.5 API behaviour).
- Group actions require the members to exist in the current roster cache (online status can affect immediacy).
- Kicking and promotions are powerful; always double-check targets and configured rank indices before running.

Examples
--------
```
/gt link Altchar Mainchar
/gt show Mainchar
/gt setrank Established 3
/gt setrank Member 4
/gt promotegroup Mainchar 2
/gt addnote Officer Mainchar "Trial of Mainchar"
/gt export GuildLeader
/gt ui
```

Troubleshooting
---------------
- Unknown command: type `/gt help` to see all commands.
- Not in a guild / insufficient permissions: ensure you are on an officer character with promote/demote and note permissions.
- Members not found or offline: open the guild roster, click Update Roster in the UI, or wait for the roster to refresh, then try again.
